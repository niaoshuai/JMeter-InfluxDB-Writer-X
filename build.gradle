plugins {
    id 'java'
}

group 'com.github.niaoshuai'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}


allprojects {
    repositories {
        maven { url 'http://192.168.13.129:8081/repository/maven-public/'}
//		maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
//		maven{ url 'http://maven.aliyun.com/nexus/content/repositories/jcenter'}
    }
}

dependencies {
    compileOnly group: 'org.apache.jmeter', name: 'ApacheJMeter_core', version: '5.1'
    compileOnly group: 'org.apache.jmeter', name: 'ApacheJMeter_components', version: '5.1'
    compile group: 'org.influxdb', name: 'influxdb-java', version: '2.15'
}


//create a single Jar with all dependencies
task fatJar(type: Jar) {
    baseName = project.name + '-plugin'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}